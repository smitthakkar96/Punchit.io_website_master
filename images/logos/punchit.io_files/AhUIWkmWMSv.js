/*!CK:3725146977!*//*1441740957,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["1l6ZJ"]); }

__d("PrivacyRemindersLoggingTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"};},null,{});
__d("SuggestionConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUP_POST_COMPOSER:"grouppostcomposer",OG_SUGGESTION_BY_INPUT:"ogsuggestionbyinput",COMPOSER_ENTRY_BOOTSTRAP:"composerentrybootstrap",MTOUCH_COMPOSER_ENTRY_BOOTSTRAP:"mtouchcomposerentrybootstrap",MTOUCH_COMPOSER_LOAD_VERBS:"mtouchcomposerloadverbs"};},null,{});
__d("SuggestionUIPresentation",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLYOUT:1,TAGGER_BADGE:2,ADD_TAG:3,SEMI_INLINE:4,TOP_OF_VERBS:5};},null,{});
__d('ComposerXAttachmentButtonBarState',['CSS','DOMQuery','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={trackCityChanges:function(m){var n=m.getComponent('citysharericon');if(n)return n.instance.subscribe('change',function(){l.updateMessageBoxBarState(m);});},updateMessageBoxBarState:function(m){var n=m.getComponent('citysharericon');if(n){var o=i.find(m.getRoot(),"._1dsp");h.conditionClass(o,"_icv",!!n.instance.getValue());}}};f.exports=l;},null);
__d('ComposerXAttachmentPrefillMixin',['Event','InputSelection'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_initPrefill:function(k,l){this._textArea=k;this._didInitialFocus=false;this._prefill=l;if(this._prefill)this._focusListener=h.listen(this._textArea,'focus',this._prefillOnFocus.bind(this));},_resetPrefill:function(){this._didInitialFocus=false;},_prefillOnFocus:function(){if(!this._didInitialFocus&&this._prefill&&this._textArea.value===''){this._textArea.value=this._prefill;i.set(this._textArea,0,0);}this._didInitialFocus=true;}};f.exports=j;},null);
__d('ComposerXAttachmentUtils',['BrowserSupport','Button','ComposerXController','DataStore','DOMQuery','Event','Focus','Keys','Run','StickyPlaceholderInput','UserAgent_DEPRECATED','csx','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u='composer_fixed_placeholder';function v(x,y){if(!k.get(x.element,u,false))x.instance.setPlaceholder(y);}var w={initMentions:function(x,y,z,aa){v(x,y.toString());if(!aa||!aa.dontFocusMentions)w.focusMentions(x);this.registerMentionsForComposerCancel(x,z);},focusMentions:function(x){var y=l.find(x.element,'textarea.input');n.set(y);},registerMentionsForComposerCancel:function(x,y){j.registerConditionForComposerCancel(y,x.instance.hasChanges.bind(x.instance));},setStickyPlaceholderForMentions:function(x,y){v(x,y);},setPlaceholderIsFixed:function(x,y){k.set(x.element,u,!!y);},setStickyPlaceholderForTypeahead:function(x,y){var z=l.find(x,'.textInput');q.setPlaceholderText(z,y);},listenForPostSubmission:function(x){m.listen(x,'keydown',function(event){var y=event.getModifiers(),z=r.osx()?y.meta:y.control,aa=l.find(x.form,"._11b"+'[type="submit"]');if(event.keyCode===o.RETURN&&z&&i.isEnabled(aa)){x.blur();if(m.fire(aa,'click'))m.fire(x.form,'submit');event.preventDefault();}});},disableSaveOnEmpty:function(x,y){var z=l.find(x,'.textInput'),aa=t(function(ca){i.setEnabled(y,z.value.trim().length!==0);},50),ba=[];ba.push(m.listen(z,'keyup',aa));if(h.hasClipboardEvents()){ba.push(m.listen(z,'cut',aa));ba.push(m.listen(z,'paste',aa));}else{ba.push(m.listen(z,'mouseout',aa));ba.push(m.listen(z,'mousemove',aa));}p.onUnload(function(){for(var ca=0;ca<ba.length;ca++)ba[ca].remove();ba=null;});}};f.exports=w;},null);
__d('ComposerXAttachmentWithPreviews',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={initPreviewButton:function(j,k){h.inform('page_composer_preview_form_initialized',j);}};f.exports=i;},null);
__d('ComposerXDragDrop',['Arbiter','ClipboardPhotoUploader','ComposerXAjaxEndpoint','ComposerXController','ComposerXDragDropUtils','ComposerXMediaUploadHandler','DragDropTarget','ErrorDialog','Event','Promise','PUWMethods','URI','fbt','isAnimatedGif'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=j.MEDIA_UPLOAD,w=j.VIDEO_UPLOAD,x='/ajax/composerx/attachment/link/scraper/',y=function(aa){aa();};function z(aa,ba,ca,da){'use strict';this._root=aa;this._composerID=ba;this._targetID=ca;da=da||y;this._activatePasteHandler();this._dragdrop=new n(aa).setOnFilesDropCallback((function(ea){da(this._dropFiles.bind(this,ea));}).bind(this)).setFileFilter(l.filterImages).enable();l.handleDragEnterAndLeave(aa);h.subscribe('composer/deactivateDragdrop',(function(){this.deactivate();}).bind(this));h.subscribe('composer/reactivateDragdrop',(function(){this.reactivate();}).bind(this));}z.prototype.enableURLDropping=function(){'use strict';this._dragdrop.setOnURLDropCallback(this._onURLDrop.bind(this));};z.prototype.deactivate=function(){'use strict';this._dragdrop.disable();this._deactivatePasteHandler();};z.prototype.reactivate=function(){'use strict';this._activatePasteHandler();this._dragdrop.enable();};z.prototype._activatePasteHandler=function(){'use strict';if(this._pasteHandler)return;this._pasteHandler=p.listen(this._root,'paste',(function(event){var aa=i.getImages(event);if(!aa.length)return;this._uploadFiles(aa,r.COPYPASTE);}).bind(this));};z.prototype._deactivatePasteHandler=function(){'use strict';if(!this._pasteHandler)return;this._pasteHandler.remove();delete this._pasteHandler;};z.prototype._uploadFiles=function(aa,ba,ca){'use strict';if(ca){k.getAttachment(this._root,w);h.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/videoupload',{files:aa},h.BEHAVIOR_PERSISTENT);}else{k.getAttachment(this._root,v);h.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/mediaupload',{files:aa,method:ba},h.BEHAVIOR_PERSISTENT);}};z.prototype._dropFiles=function(aa){'use strict';var ba=aa.map(function(ca){return new q(function(da){if(ca.type==='image/gif'&&m.canUploadAnimatedGIF()){da(u(ca));}else if(ca.type.match('video/*')){da(true);}else da(false);});});q.all(ba).then((function(ca){if(this.validateMediaTypes(ca))this._uploadFiles(aa,r.DRAGDROP,ca[0]);}).bind(this));};z.prototype._onURLDrop=function(aa){'use strict';var ba=new s(x);ba.addQueryData({scrape_url:encodeURIComponent(aa)});k.getAttachment(this._root,ba.toString());};z.prototype.validateMediaTypes=function(aa){'use strict';if(aa.length>1){var ba=false,ca=false;for(var da=0;da<aa.length;da++)if(aa[da]){ba=true;}else ca=true;if(ba&&ca){o.show(t._("Can't upload both videos and images"),t._("Please select either one video or one or more images."));return false;}}return true;};f.exports=z;},null);
__d('PagesComposerEntryLogger',['Event','PagesEventObserver'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$PagesComposerEntryLogger1=k;}j.prototype.registerForContentEntryEvents=function(k){'use strict';var l=function(){var m={page_id:this.$PagesComposerEntryLogger1,event_name:'composer_content_entry',pages_composer:1,target_id:this.$PagesComposerEntryLogger1};i.logData_DEPRECATED(m,i.VITAL_WAIT);this.unregister();};this.$PagesComposerEntryLogger2=h.listen(k,{paste:l.bind(this),keydown:l.bind(this)});};j.prototype.unregister=function(){'use strict';if(!this.$PagesComposerEntryLogger2)return;for(var event in this.$PagesComposerEntryLogger2)this.$PagesComposerEntryLogger2[event].remove();this.$PagesComposerEntryLogger2=null;};f.exports=j;},null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/reminders\/log_imp\/",{type:{type:"String",required:true}});},null,{});
__d('ComposerXBootloadStatusAttachment',['requireWeak','Arbiter','AsyncRequest','BanzaiLogger','Bootloader','ComposerXAttachment','ComposerXAttachmentButtonBarState','ComposerXAttachmentPrefillMixin','ComposerXAttachmentUtils','ComposerXAttachmentWithPreviews','ComposerXController','ComposerXDragDrop','ComposerXDragDropUtils','ComposerXMarauderLogger','ComposerXStore','CSS','DOM','DOMQuery','Event','Focus','ForceFetchAfterLongInactiveQE','NoNewerStoryInsertionWhileComposingGK','PageTransitions','PagesComposerEntryLogger','Parent','FocusListener','PrivacyConst','PrivacyRemindersLoggingTypes','ProductionPromptConfig','SelectorDeprecated','SubscriptionsHandler','SuggestionConfig','SuggestionUIPresentation','URI','XUIError','$','classWithMixins','createCancelableFunction','csx','cx','fbt','getActiveElement','mixin','requestAnimationFrame','XPrivacyRemindersDismissController','XPrivacyRemindersImpressionLoggingController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab){if(c.__markCompiled)c.__markCompiled();var bb,cb,db;h('LitestandStoryInsertionStatus',function(hb){db=hb;});var eb={only_me:{PRIVACY_CONSTANT:[ha.BaseValue.SELF],LOG_IMPRESSION:ia.ONLY_ME_IMPRESSION,LOG_CONVERSION:ia.ONLY_ME_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.EVERYONE_IMPRESSION,LOG_CONVERSION:ia.EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},delta_everyone:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.DELTA_EVERYONE_IMPRESSION,LOG_CONVERSION:ia.DELTA_EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone_tests:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.EVERYONE_TESTS_IMPRESSION,LOG_CONVERSION:ia.EVERYONE_TESTS_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},public_posting_filter_nux:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.PUBLIC_POSTING_FILTER_NUX_IMPRESSION,LOG_CONVERSION:ia.PUBLIC_POSTING_FILTER_NUX_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true}},fb={};bb=babelHelpers.inherits(gb,ra(m,xa(o,q)));cb=bb&&bb.prototype;function gb(hb,ib){'use strict';cb.constructor.call(this);this._root=hb;this._config=ib;this._privacyReminders={};this._onSelectorChange=this._onSelectorChange.bind(this);if(db&&ca.no_insertion_while_composing)if(ba.forceRefresh){db.registerBlocker((function(){return this._isEditing();}).bind(this));}else db.registerBlocker((function(){return this._isFocused();}).bind(this));}gb.prototype.getRoot=function(){'use strict';return this._root;};gb.prototype.getPrivacyInstance=function(){'use strict';return this._newPrivacyWidgetInstance;};gb.prototype._getTextArea=function(){'use strict';return y.find(this.getComponent('maininput').element,'textarea.input');};gb.prototype.initWithComponents=function(hb){'use strict';fb[this._composerID]=this;this._attachmentIsActive=true;var ib=this._getTextArea(),jb=y.scry(fa.byClass(this.getRoot(),"_119"),'li.'+this.attachmentClassName)[0];this._focusListener=z.listen(ib,'focus',this._onFocus.bind(this,'area_focus'));if(this._config.prefill_text)this._initPrefill(ib,this._config.prefill_text);if(hb&&this._config.targetIsPage){this._pagesComposerEntryLogger=new ea(this._config.targetID);this._pagesComposerEntryLogger.registerForContentEntryEvents(ib);}if(this._fullVersion){this._fullInitWithComponents();}else if(!this._bootloading)if(this._isFocused()){this._onFocus('is_focused');}else if(jb)this._clickListener=z.listen(jb,'click',(function(){aa.set(ib);}).bind(this));this._dragEnterHandler=i.subscribe('dragenter',(function(kb,lb){if(lb.element==this._root){i.inform('composerprivacy/aborteducation');var mb=lb.event.dataTransfer.items,nb;if(mb)nb=t.filterImages(mb);if(nb&&nb.length>0){aa.set(ib);}else{var ob=fa.byClass(this._root,'focus_target');ga.expandInput(ob);this._onFocus('drag_focus');}}}).bind(this));this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(!hb)aa.set(ib);if(this._config.plus_version){this._dragdrop=new s(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}this._initPrivacyWidgetInstance();if(this._config.postActionsButton!=null)this._config.postActionsButton.initHiddenInputs(this.getComponent('pabhiddeninputs').instance);if(this._config.previewButton)this.initPreviewButton(this._root,this._config.previewButton);da.registerHandler(this.cleanup.bind(this));};gb.prototype._initPrivacyWidgetInstance=function(){'use strict';var hb=this.getComponent('mainprivacywidget');if(!hb)return;this._privacyWidgetElement=hb.element;this._newPrivacyWidgetInstance=hb.instance&&hb.instance.getInstance().getInstance();if(this._newPrivacyWidgetInstance){var ib=this.getComponent('maininput').instance&&this.getComponent('maininput').instance.getMentions(),jb=this.getComponent('tagExpansionButton');jb&&jb.instance&&jb.instance.listenToPrivacy(this._newPrivacyWidgetInstance,ib);}};gb.prototype._fullInitWithComponents=function(hb){'use strict';this._bootloadCallback=sa(this._bootloadModules.bind(this));if(hb&&hb.show_tag_expansion_reminder){l.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI","ComposerTagReminder"],this._bootloadCallback);}else l.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI"],this._bootloadCallback);Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);if(this._setEveryonePrivacyImpression)this._showPrivacyReminder('everyone');if(this._privacyReminders.delta_everyone&&this._privacyReminders.delta_everyone.dialog){var ib=this._privacyReminders.delta_everyone.dialog.getContent();if(ib){var jb=y.scry(ib,'.photoText')[0],kb=y.scry(ib,'.postText')[0];i.subscribe('multi-upload/images-added',(function(){jb&&w.show(jb);kb&&w.hide(kb);}).bind(this));i.subscribe('multi-upload/all-images-removed',(function(){jb&&w.hide(jb);kb&&w.show(kb);}).bind(this));}}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.subscribe('changed',this._onSelectorChange);}else ka.subscribe('select',this._onSelectorChange);};gb.prototype._bootloadModules=function(hb,ib,jb,kb,lb){'use strict';this._modulesAreBootloaded=true;this._tagger.init(this);this._privacyWidgetTags=new hb(this);if(lb){this._tagExpansionReminder=new lb(this);this._tagExpansionReminder.listen();}n.trackCityChanges(this);var mb=y.find(this.getComponent('maininput').element,'textarea.input');if(!this._scraper){this._scraper=new ib(mb);this._scraper.subscribe('match',(function(qb,rb){var sb=this._getScraperEndpoint();sb.addQueryData({scrape_url:encodeURIComponent(rb.url),remove_url:this._config.remove_url,attachment_class:this._config.classname});var tb=this._config.isCarouselComposer;r.getAttachment(this._root,sb.toString(),null,tb);}).bind(this));}this._scraper.enable();this._scraper.check();var nb=x.scry(this._root,"._4-jj"),ob=this.getComposerID();if(this._config.stream_context==='home'&&nb&&nb.length&&this._tagger&&ob){if(!this._suggestionScraper){this._suggestionScraper=new jb(this._tagger,nb[0],[na.SEMI_INLINE,na.TAGGER_BADGE,na.TOP_OF_VERBS],ob);this._suggestionScraper.setBootloadTriggerConfig(ma.COMPOSER_ENTRY_BOOTSTRAP);}if(ja.gk){var pb=x.scry(this._root,'#bootloadSemiinlineRoot')[0];if(pb)w.hide(pb);}}};gb.prototype._showPrivacyReminder=function(hb){'use strict';var ib=this,jb=this._privacyReminders[hb],kb=eb[hb],lb=null;if(this._newPrivacyWidgetInstance){lb=this._newPrivacyWidgetInstance.getSelectedBaseValue();}else lb=parseInt(ka.getValue(this._privacyWidgetElement),10);if(!jb||!jb.dialog||jb.shown){if(lb===ha.BaseValue.EVERYONE&&this._setEveryonePrivacyImpression){this._sendSetEveryonePrivacyImpression();this._setEveryonePrivacyImpression=false;}return;}if(kb.PRIVACY_CONSTANT.indexOf(lb)===-1)return;jb.dialog.setContext(this._privacyWidgetElement).show();jb.shown=true;this._privacyReminderShown=true;if(kb.LOG_IMPRESSION){var mb=ab.getURIBuilder().setString('type',kb.LOG_IMPRESSION).getURI();new j(mb).send();}if(kb.LOG_IMPRESSION_TO_DISMISS_ENDPOINT)if(hb==='delta_everyone'||hb==='only_me'){var nb=za.getURIBuilder().setString('type',hb).getURI();new j(nb).send();}else new j('/ajax/privacy/reminders/dismiss').setData({type:hb,dismiss_type:'impression'}).send();var ob=(function(event){var pb=w.hasClass(event.target,'layerConfirm')||y.scry(event.target,'^.layerConfirm').length===1,qb=w.hasClass(event.target,'layerButton')||y.scry(event.target,'^.layerButton').length===1;if(pb&&hb!=='public_posting_filter_nux'){if(hb==='delta_everyone'||hb==='only_me'){var rb=ab.getURIBuilder().setString('type',ia.DELTA_EVERYONE_OK_BUTTON_CLICKED).getURI();new j(rb).send();}return;}if(hb==='delta_everyone'||hb==='only_me'){var sb=za.getURIBuilder().setString('type',hb).getURI();new j(sb).send();}else new j('/ajax/privacy/reminders/dismiss').setData({type:hb,hide:qb}).send();jb.events.forEach(function(ub){ub.remove();});jb.events=[];jb.dialog.hide();this._privacyReminderShown=false;if(qb){ya((function(){if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.openSelector();}else ka.toggle(y.scry(ib.getComponent('mainprivacywidget').element,'.uiSelector')[0]);}).bind(this));if(hb==='delta_everyone'){var tb=ab.getURIBuilder().setString('type',ia.DELTA_EVERYONE_CHANGE_BUTTON_CLICKED).getURI();new j(tb).send();}}}).bind(this);if(this._newPrivacyWidgetInstance){jb.conversionListener=this._newPrivacyWidgetInstance.subscribe('changed',(function(pb,qb){var rb=this._newPrivacyWidgetInstance.getSelectedBaseValue();this._logPrivacyReminderConversion(jb,kb,rb);}).bind(this));}else jb.conversionListener=ka.subscribe('select',(function(pb,qb){if(qb.selector==this._privacyWidgetElement.firstChild){var rb=parseInt(ka.getValue(qb.option),10);this._logPrivacyReminderConversion(jb,kb,rb);}}).bind(this));jb.events=[z.listen(jb.dialog.getContent(),'click',ob),z.listen(jb.dialog.getContext(),'click',ob)];};gb.prototype._logPrivacyReminderConversion=function(hb,ib,jb){'use strict';if(ib.PRIVACY_CONSTANT.indexOf(jb)===-1){if(ib.LOG_CONVERSION){var kb=ab.getURIBuilder().setString('type',ib.LOG_CONVERSION).getURI();new j(kb).send();}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(hb.conversionListener);}else ka.unsubscribe(hb.conversionListener);hb.conversionListener=null;}};gb.prototype._onSelectorChange=function(hb,ib){'use strict';if(!this.getComponent('mainprivacywidget'))return;if(this._newPrivacyWidgetInstance||ib.selector===this._privacyWidgetElement.firstChild)setTimeout((function(){Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);}).bind(this));if(this._tagExpansionReminder)this._tagExpansionReminder.updateReminderText(ib.post_param);};gb.prototype.cleanup=function(){'use strict';this._attachmentIsActive=false;if(this._focusListener){this._focusListener.remove();this._focusListener=null;}if(this._clickListener){this._clickListener.remove();this._clickListener=null;}Object.keys(eb).forEach((function(hb){var ib=this._privacyReminders[hb];if(ib&&ib.dialog&&ib.shown){ib.dialog.hide();ib.events.forEach(function(jb){jb.remove();});ib.events=[];if(ib.conversionListener)if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(ib.conversionListener);}else ka.unsubscribe(ib.conversionListener);ib.conversionListener=null;}}).bind(this));if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}if(this._modulesAreBootloaded){this._tagger.cleanup();if(this._privacyWidgetTags){this._privacyWidgetTags.destroy();this._privacyWidgetTags=null;}this._scraper.disable();}if(this._bootloadCallback){this._bootloadCallback.cancel();this._bootloadCallback=null;}if(this._dragEnterHandler){this._dragEnterHandler.unsubscribe();this._dragEnterHandler=null;}if(this._pagesComposerEntryLogger)this._pagesComposerEntryLogger.unregister();};gb.prototype.reset=function(){'use strict';var hb=fa.byClass(this._root,"child_was_focused");if(hb)w.removeClass(hb,"child_was_focused");if(this._tagger)this._tagger.reset();if(this._scraper)this._scraper.reset();if(this._newPrivacyWidgetInstance)this._newPrivacyWidgetInstance.informTagsChanged([]);this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(this._config.prefill_text)this._resetPrefill();if(ja.gk)this._config.mentionsPlaceholder=va._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);};gb.prototype.canSwitchAway=function(){'use strict';return !fa.byClass(this._root,'async_saving');};gb.prototype.bootloadAttachments=function(){'use strict';if(this._bootloading)return;this._bootloading=true;r.getEndpoint(this._root,'/ajax/composerx/attachment/status/bootload/',true);};gb.prototype.setBootloadedContent=function(hb){'use strict';this._bootloading=false;this._setEveryonePrivacyImpression=!!hb.set_everyone_privacy_impression;Object.keys(eb).forEach((function(lb){var mb=hb[lb+'_privacy_reminder'];if(mb)this._privacyReminders[lb]={dialog:mb};}).bind(this));if(hb.markup.privacy_widget){var ib=y.find(this._root,"._etn");x.setContent(ib,hb.markup.privacy_widget);var jb=y.find(this._root,"._1dwm");if(jb){jb.disabled=false;w.removeClass(jb,"_42fr");}}var kb=hb.placeholders.map(function(lb){return lb.component_name;});v.waitForComponents(this._composerID,kb,(function(){var lb=y.find(this._root,"._3-6"),mb=y.find(this._root,"._3-7");x.setContent(lb,hb.markup.tagger_content);x.setContent(mb,hb.markup.tagger_icons);if(hb.markup.privacy_widget)this._initPrivacyWidgetInstance();r.addPlaceholders(this._root,this,hb.placeholders);this._tagger=hb.tagger;n.updateMessageBoxBarState(this);this._fullVersion=true;if(this._attachmentIsActive)this._fullInitWithComponents(hb);p.registerMentionsForComposerCancel(this.getComponent('maininput'),this.getComposerID());}).bind(this));};gb.prototype._getScraperEndpoint=function(){'use strict';return new oa('/ajax/composerx/attachment/link/scraper/');};gb.prototype._isFocused=function(){'use strict';return y.contains(this._root,wa());};gb.prototype._isEditing=function(){'use strict';return this._isFocused()||this.getComponent('maininput').instance.hasChanges();};gb.prototype._onFocus=function(hb){'use strict';u.logEntry(this._composerID);var ib=x.scry(this._root,"._180_")[0];if(ja.gk&&this._config.stream_context==='home'&&ib){w.hide(qa('bootloadComposerPromptPlaceholder'));w.hide(qa('bootloadComposerPromptIcon'));var jb=qa('mentionsInput');x.find(jb,'textarea.mentionsTextarea').placeholder=va._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);}this._config&&k.log('WebComposerSampledWaterfallLoggerConfig',{event:'js_composer_focus',client_time:Date.now(),config:{targetID:this._config.targetID,stream_context:this._config.stream_context},composerID:this._composerID,source:hb});this._prefillOnFocus();if(this._fullVersion||this._bootloading)return;i.inform('composer/focus',this._composerID);i.inform('composer/render_pab_nux');this.bootloadAttachments();};gb.prototype.allowOGTagPreview=function(){'use strict';return true;};gb.prototype._sendSetEveryonePrivacyImpression=function(){'use strict';new j('/ajax/privacy/reminders/set_everyone_privacy_impression').send();};gb.prototype.onEmptyStatusCallback=function(){'use strict';var hb=this._getTextArea();aa.set(hb);pa.set({target:hb,message:va._("This status update appears to be blank. Please write something or attach a link or photo to update your status."),position:'below',alignh:'left'});new la().addSubscriptions(z.listen(this.getRoot(),'success',(function(){pa.clear(this._getTextArea());}).bind(this)),i.subscribe('composer/publish',(function(event,ib){if(ib.composer_id!=this.getComposerID())return;pa.clear(this._getTextArea());}).bind(this)));};gb.setBootloadedContent=function(hb,ib){'use strict';var jb=fb[hb];if(jb)jb.setBootloadedContent.call(jb,ib);};gb.onEmptyStatusListener=function(hb){'use strict';var ib=fb[hb];if(ib)ib.onEmptyStatusCallback.call(ib);};Object.assign(gb.prototype,{_attachmentIsActive:false,_bootloading:false,_modulesAreBootloaded:false,_fullVersion:false,_focusListener:null,_privacyWidgetTags:null,_scraper:null,_dragdrop:null,_bootloadCallback:null,attachmentClassName:"_4j"});f.exports=gb;},null);
__d('ComposerXMentionsInputReset',['DOMQuery','Input'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.scry(k.element,'textarea.input')[0];k.instance.reset();i.reset(l);}f.exports=j;},null);
__d('ComposerXOGTaggerIconReset',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){h.removeClass(k.element,"_4-jh");h.removeClass(k.element,"_509o");}f.exports=j;},null);
__d('ComposerXPrivacyWidgetReset',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h.inform('Composer/changedtags',{withTags:[],mention:{},eventTag:false});}f.exports=i;},null);
__d('ComposerXTaggerIconReset',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){h.removeClass(k.element,"_1dsa");h.removeClass(k.element,"_1dsb");h.removeClass(k.element,"_509o");}f.exports=j;},null);
__d('KeyboardShortcuts',['KeyEventController','Layer','ModalLayer'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(m,n,o){'use strict';this.key=m;this.handler=n;this.filter=o;this.register();}k.prototype.register=function(){'use strict';this.token=h.registerKey(this.key,this.handler,this.filter);};k.prototype.remove=function(){'use strict';this.token.remove();};var l={_tokens:[[]],register:function(m,n,o){o=o||{};var p=o.allowDefault?n:function(event,t){n.apply(this,arguments);event.prevent();},q=o.baseFilters||[h.defaultFilter],r=function(event,t){for(var u=0,v=q.length;u<v;u++)if(!q[u](event,t))return false;return !o.filter||o.filter(event,t);},s=new k(m,p,r);this._tokens[this._tokens.length-1].push(s);return s;},init:function(){i.subscribe('show',(function(m,n){if(n.hasBehavior(j))this.pushLayer();}).bind(this));i.subscribe('hide',(function(m,n){if(n.hasBehavior(j))this.popLayer();}).bind(this));},pushLayer:function(){var m=this._tokens[this._tokens.length-1];m&&m.forEach(function(n){n.remove();});this._tokens.push([]);},popLayer:function(){var m=this._tokens.length-1;if(m<0)return;var n=this._tokens[m];n.forEach(function(p){p.remove();});this._tokens.pop();var o=this._tokens[m-1];o&&o.forEach(function(p){p.register();});}};l.init();f.exports=l;},null);
__d('LikeConfirmer',['AsyncDialog','AsyncRequest'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=false,k=false,l={likeContent:function(){},like:function(m,n){this.likeContent=m;if(k)return;if(j){this.likeContent();}else{var o=new i().setURI('/like/confirm_like.php').setRelativeTo(n);h.send(o,(function(p){k=true;p.subscribe('hide',this.onCloseLikeConfirmDialog.bind(this));p.setCausalElement(n);}).bind(this));}return false;},isShowingConfirmation:function(){return k;},onCloseLikeConfirmDialog:function(){k=false;},likeSkipConfirmation:function(m){j=m;this.likeContent();}};f.exports=l;},null);
__d('FeedBaseKeyboardController',['$','AccessibilityLogger','Arbiter','AsyncDialog','AsyncRequest','Banzai','BanzaiODS','BanzaiNectar','CSS','DOM','DOMScroll','DOMQuery','Event','Focus','KeyboardShortcuts','LikeConfirmer','NavigationMessage','Parent','ReactComposerEvents','ReactComposerIDGenerator','Run','Scroll','SubscriptionsHandler','UITinyViewportAction','Vector','ViewportBounds','csx','emptyFunction','ge','getActiveElement','isAsyncScrollQuery','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){if(c.__markCompiled)c.__markCompiled();var na;function oa(){na=ea.isTiny()?0:h('pagelet_bluebar').offsetTop+h('pagelet_bluebar').offsetHeight;}setTimeout(oa,0);t.listen(window,'resize',ma(oa));function pa(qa){'use strict';this.root=qa;this.init();}pa.prototype.getStories=function(){'use strict';};pa.prototype.getParentStory=function(qa){'use strict';};pa.prototype.isStory=function(qa){'use strict';};pa.prototype.isHoldoutStory=function(qa){'use strict';};pa.prototype.getHeadline=function(qa){'use strict';};pa.prototype.getPreviousStory=function(qa){'use strict';};pa.prototype.getNextStory=function(qa){'use strict';};pa.prototype.setSelected=function(qa,ra){'use strict';};pa.prototype.clickLike=function(){'use strict';};pa.prototype.clickComment=function(){'use strict';};pa.prototype.clickShare=function(){'use strict';};pa.prototype.clickSeeMore=function(){'use strict';};pa.prototype.clickLeft=function(){'use strict';};pa.prototype.clickRight=function(){'use strict';};pa.prototype.openAttachment=function(){'use strict';};pa.prototype.focusComposer=function(){'use strict';var qa=ja('pagelet_composer');if(!qa)qa=ja('pagelet_group_composer');if(qa){var ra=q.scry(qa,'textarea')[0];if(ra){u.set(ra);r.scrollToTop(true);}else{var sa=q.scry(qa,"div._36bx")[0],ta=sa&&sa.id;if(aa.isComposerID(ta)){j.inform(z.FOCUS,{composerID:sa.id});r.scrollToTop(true);}}}};pa.prototype.getScrollOffset=function(){'use strict';return 10;};pa.prototype.getAnimationLength=function(qa){'use strict';return Math.min(Math.abs(fa.getElementPosition(qa).y-ga.getTop()-ca.getTop(document.body)),400);};pa.prototype.findTop=function(){'use strict';var qa=this.getStories();for(var ra=0;ra<qa.length;ra++)if(fa.getElementPosition(qa[ra]).y>fa.getScrollPosition().y)return qa[ra];};pa.prototype.onLeave=function(){'use strict';this.subscriptions&&this.subscriptions.release();};pa.prototype.getHelpDialogRequest=function(){'use strict';if(!this.dialogRequest){this.dialogRequest=new l('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};pa.prototype.init=function(){'use strict';ba.onLeave(this.onLeave.bind(this));this.subscriptions=new da();this.subscriptions.addSubscriptions(j.subscribe(x.NAVIGATION_BEGIN,this.onLeave.bind(this)),v.register('j',this.vert.bind(this,1)),v.register('k',this.vert.bind(this,-1)),v.register('l',(function(){var qa=this.getParentStory(ka());w.like((function(){this.setSelected(qa,false);this.clickLike();}).bind(this),ka());}).bind(this),{filter:this.hasActiveStory.bind(this)}),v.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),v.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),v.register('p',this.focusComposer.bind(this)),v.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),v.register('SLASH',(function(){var qa=this.getHelpDialogRequest();if(qa){qa.setRelativeTo(ka());k.send(qa);}}).bind(this),{filter:function(event,qa){return event.getModifiers().shift;}}),v.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),v.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),v.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),t.listen(this.root,'focusin',(function(event){var qa=event.getTarget();if(!this.isStory(qa)){var ra=qa.nodeName=='OBJECT'||qa.nodeName=='EMBED'||qa.nodeName=='IFRAME',sa=this.getParentStory(qa),ta=this.selected;if(sa&&!ra&&ta){this.setSelected(sa,true);this.selected=sa;}}}).bind(this)));};pa.prototype.hasActiveStory=function(event,qa){'use strict';var ra=ka();return !(ra&&p.shown(ra))||!!this.getParentStory(ra);};pa.prototype.hasExpandableStoryInFocus=function(event,qa){'use strict';var ra=ka();return !!(ra.getElementsByClassName('text_exposed_root').length&&!ra.getElementsByClassName('text_exposed_root text_exposed').length);};pa.prototype.clickElement=function(qa,ra){'use strict';if(!qa)return;var sa;for(var ta=1,ua=arguments.length;ta<ua;ta++){sa=q.scry(qa,arguments[ta])[0];if(sa&&p.shown(sa)){sa.click();return;}}};pa.prototype.click=function(qa){'use strict';this.clickElement(this.selected,qa);};pa.prototype.vert=function(qa){'use strict';if(!this.scrollInitialized){this.subscriptions.addSubscriptions(t.listen(document,'scroll',(function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}).bind(this)));this.scrollInitialized=true;}var ra,sa;if(this.selected){if(m.isEnabled('kbshortcuts_feed')){sa=qa>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';n.bumpEntityKey('kbshortcuts_feed',sa);o.log('feed_scroll',sa,{});}i.logJKKey();if(this.selected.id=='pagelet_composer'){ra=qa>0?this.getStories()[0]:null;if(this.isHoldoutStory(ra))ra=this.getPreviousStory(ra);}else if(qa===0){ra=this.selected;}else ra=qa>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||ja('pagelet_composer');if(!ra){return;}else if(!s.isElementNode(ra)){p.removeClass(this.selected,'selectedStorySimple');this.selected=ra;return this.vert(qa);}}if(!ra||y.byClass(ra,'hidden_elem')||!q.contains(document,ra)){ra=this.findTop();if(ra&&qa<0)ra=this.getPreviousStory(ra);if(this.isHoldoutStory(ra))ra=this.getPreviousStory(ra);}if(!ra)return;this.anim&&this.anim.stop();var ta=Date.now()-(this.lastScroll||0)>30;if(qa!==0)var ua=this.setFocused.bind(this,ra);if(la()){ta=false;ua();ua=ia;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);this.anim=r.scrollTo(ra,ta?this.getAnimationLength(ra):0,false,fa.getViewportDimensions().y-na-this.getScrollOffset(),0,(function(){this.scrollingTimer=window.setTimeout((function(){this.scrolling=false;}).bind(this),300);var va=fa.getScrollPosition();ua();if(va.distanceTo(fa.getScrollPosition())!==0)r.scrollTo(va,0);}).bind(this));this.setSelected(ra,true);this.lastScroll=Date.now();};pa.prototype.isInteractive=function(qa){'use strict';return qa.nodeName=='INPUT'||qa.nodeName=='BUTTON'||qa.nodeName=='TEXTAREA'||qa.nodeName=='A'||!!y.byAttribute(qa,'contenteditable');};pa.prototype.setTabindexOnHeadline=function(qa,ra){'use strict';if(this.isStory(qa)){var sa=this.getHeadline(qa);if(sa)sa.tabIndex=ra;}};pa.prototype.setTabindexOnStory=function(qa,ra){'use strict';if(this.isStory(qa))qa.tabIndex=ra;};pa.prototype.setFocused=function(qa){'use strict';if(this.isStory(qa))u.setWithoutOutline(qa);};f.exports=pa;},null);
__d("XFamilyMentionsNUXDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/family_mentions\/nux_dialog\/",{__asyncDialog:{type:"Int"}});},null,{});
__d('FamilyRelationshipMentions',['AsyncDialog','AsyncRequest','FamilyMentionsData','XFamilyMentionsNUXDialogController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=(function(){var m={},n=false;m.shouldShowNUX=function(o){if(j.hasAcceptedNUX||n)return false;var p=o.family_names;if(p==undefined)return false;for(var q=0;q<p.length;q++)if(p[q]==o.text)return true;return false;};m.showNUX=function(o,p){var q=k.getURIBuilder().getURI();h.send(new i(q),function(r){r.subscribe('cancel',function(){o.text=o.default_name;new i().setURI('/ajax/family_mentions/deny_nux').send();p(o);});r.subscribe('confirm',function(){n=true;new i().setURI('/ajax/family_mentions/confirm_nux').send();p(o);r.finishHide();});});};return m;})();f.exports=l;},null);
__d('FbFeedKeyboardController',['CSS','DOM','DOMQuery','FeedBaseKeyboardController','Focus','JSXDOM','Parent','FbFeedHighlight','csx','cx','ge','getActiveElement'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;function v(y){if(y.previousElementSibling)return y.previousElementSibling;y=y.previousSibling;while(y&&!j.isElementNode(y))y=y.previousSibling;return y||null;}function w(y){if(y.nextElementSibling)return y.nextElementSibling;y=y.nextSibling;while(y&&!j.isElementNode(y))y=y.nextSibling;return y||null;}t=babelHelpers.inherits(x,k);u=t&&t.prototype;x.prototype.getStories=function(y){'use strict';return j.scry(y||this.root,"._5jmm");};x.prototype.isHoldoutStory=function(y){'use strict';return !!y&&h.hasClass(y,'holdoutAdStory');};x.prototype.isRelevantStory=function(y){'use strict';return j.isElementNode(y)&&!this.isHoldoutStory(y);};x.prototype.isStory=function(y){'use strict';return h.hasClass(y,"_5jmm");};x.prototype.clickLike=function(){'use strict';var y=this.$FbFeedKeyboardController1();this.clickElement(y,'.UFILikeLink');if(y!==this.selected)return null;var z=this.getParentStory(s());if(z){var aa=j.scry(z,'.UFILikeLink');for(var ba=0;ba<aa.length;ba++)if(!h.hasClass(aa[ba],'accessible_elem'))l.setWithoutOutline(aa[ba]);}};x.prototype.clickComment=function(){'use strict';this.clickElement(this.$FbFeedKeyboardController1(),'.comment_link');};x.prototype.clickShare=function(){'use strict';this.click('.share_action_link');};x.prototype.clickSeeMore=function(){'use strict';this.click('.see_more_link');};x.prototype.clickLeft=function(){'use strict';this.click("._1mri");};x.prototype.clickRight=function(){'use strict';this.click("._2fu-");};x.prototype.openAttachment=function(){'use strict';this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};x.prototype.getHeadline=function(y){'use strict';return j.scry(y,"h5._5pbw")[0];};x.prototype.$FbFeedKeyboardController2=function(y){'use strict';var z=n.byClass(y,"_5pcb"),aa=r('pagelet_soft_permalink_posts');return !!(z||aa&&i.contains(aa,y));};x.prototype.getPreviousSibling=function(y){'use strict';var z=v(y);if(z&&this.getParentStory(z))return z;z=null;if(this.$FbFeedKeyboardController2(y)){var aa=this.getStories(this.root),ba=aa.indexOf(y);while(ba>-1){if(ba===0){z=r('pagelet_composer');z=z&&n.byClass(z,"_5jmm");}else if(ba>0){z=aa[ba-1];if(z.offsetHeight>0)break;}ba--;}}return z||this.selected;};x.prototype.getPreviousStory=function(y){'use strict';var z=this.getPreviousSibling(y);while(z&&!this.isStory(z))z=this.getPreviousSibling(z);return z;};x.prototype.getParentStory=function(y){'use strict';return n.byClass(y,"_5jmm");};x.prototype.getNextSibling=function(y){'use strict';var z=w(y);if(z&&this.getParentStory(z))return z;z=null;if(this.$FbFeedKeyboardController2(y)){var aa=this.getStories(this.root),ba=aa.indexOf(y);if(ba>-1){z=aa[++ba];while(z&&z.offsetHeight===0)z=aa[++ba];}}else if(r('pagelet_composer',y))z=j.scry(document,"div._5pcb ._5jmm")[0];return z||this.selected;};x.prototype.getNextStory=function(y){'use strict';var z=this.getNextSibling(y);while(z&&!this.isStory(z))z=this.getNextSibling(z);return z;};x.prototype.setSelected=function(y,z){'use strict';if(y){var aa="_5qdu",ba=j.scry(y,"._5qdu");if(!ba.length&&z)i.prependContent(y,m.div({className:aa}));}if(z){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&h.removeClass(this.selected,"_5qdv");this.selected=y;y&&this.setTabindexOnStory(y,'0');y&&h.addClass(y,"_5qdv");o.highlightSingle(y);}};x.prototype.$FbFeedKeyboardController1=function(){'use strict';var y=i.scry(this.selected,"._1qch");if(y.length>0)return i.scry(this.selected,"._3el7")[0];return this.selected;};x.init=function(y){'use strict';new x(y);};function x(){'use strict';t.apply(this,arguments);}f.exports=x;},null);
__d('MentionsTypeaheadAreaView',['ContextualTypeaheadView','FamilyRelationshipMentions','Parent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;m.prototype.getContext=function(){'use strict';return j.byClass(this.element,'uiMentionsInput');};m.prototype.shouldValidateTypeaheadSelection=function(n){'use strict';return i.shouldShowNUX(n);};m.prototype.validateTypeaheadSelection=function(n,o){'use strict';i.showNUX(n,o);};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);